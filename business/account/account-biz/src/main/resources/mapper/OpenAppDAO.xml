<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="study.daydayup.wolf.business.account.biz.dal.dao.OpenAppDAO">


<!--auto generated by MybatisCodeHelper on 2020-06-20-->
  <select id="selectByOrgId" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List"/>
    from open_app
    where org_id=#{orgId,jdbcType=BIGINT}
  </select>

<!--auto generated by MybatisCodeHelper on 2020-06-20-->
  <select id="selectByOrgIdAndAppType" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List"/>
    from open_app
    where org_id=#{orgId,jdbcType=BIGINT}
    and app_type=#{appType,jdbcType=TINYINT}
    limit 1
  </select>

<!--auto generated by MybatisCodeHelper on 2020-06-20-->
  <update id="updateByOrgIdAndAppType">
    update open_app
    <set>
      <if test="updated.appId != null and updated.appId != ''">
        app_id = #{updated.appId,jdbcType=VARCHAR},
      </if>
      <if test="updated.appSecret != null and updated.appSecret != ''">
        app_secret = #{updated.appSecret,jdbcType=VARCHAR},
      </if>
      <if test="updated.memo != null and updated.memo != ''">
        memo = #{updated.memo,jdbcType=VARCHAR},
      </if>
      <if test="updated.version != null">
        version = #{updated.version,jdbcType=INTEGER},
      </if>
      <if test="updated.deleteFlag != null">
        delete_flag = #{updated.deleteFlag,jdbcType=TINYINT},
      </if>
      <if test="updated.lastEditor != null">
        last_editor = #{updated.lastEditor,jdbcType=BIGINT},
      </if>
      <if test="updated.updatedAt != null">
        updated_at = #{updated.updatedAt,jdbcType=TIMESTAMP},
      </if>
    </set>
    where org_id=#{orgId,jdbcType=BIGINT}
    and app_type=#{appType,jdbcType=TINYINT}
    limit 1
  </update>

<!--auto generated by MybatisCodeHelper on 2020-06-20-->
  <select id="countByOrgIdAndAppType" resultType="java.lang.Long">
    select count(*)
    from open_app
    where org_id=#{orgId,jdbcType=BIGINT}
    and app_type=#{appType,jdbcType=TINYINT}
  </select>
</mapper>